<div class="categories-container">
  <div class="header">
    <h1>Categories</h1>
    <button 
      mat-raised-button 
      color="primary" 
      (click)="refreshCategories()"
      [disabled]="loading()">
      <mat-icon>refresh</mat-icon>
      Refresh
    </button>
  </div>

  @if (loading()) {
    <div class="loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <p>Loading categories...</p>
    </div>
  } @else if (error()) {
    <div class="error-container">
      <mat-icon color="warn">error</mat-icon>
      <p>{{ error() }}</p>
      <button mat-raised-button color="primary" (click)="refreshCategories()">
        Try Again
      </button>
    </div>
  } @else if (categories().length === 0) {
    <div class="empty-container">
      <mat-icon>folder_open</mat-icon>
      <p>No categories found</p>
    </div>
  } @else {
    <div class="categories-grid">
      @for (category of categories(); track category.id) {
        <mat-card class="category-card" (click)="selectCategory(category)">
          <mat-card-header>
            <mat-card-title>{{ category.Name }}</mat-card-title>
            @if (category.description) {
              <mat-card-subtitle>{{ category.description }}</mat-card-subtitle>
            }
          </mat-card-header>
          <mat-card-actions>
            <button mat-button color="primary">
              <mat-icon>arrow_forward</mat-icon>
              View Lines
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  }
</div>


